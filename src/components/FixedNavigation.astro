---
import NavItem from "../components/NavItem.astro";
---

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navbar = document.getElementById("navbar");
    const stickyNavbar = document.getElementById("sticky-navbar");
    if (!navbar || !stickyNavbar) return;
    const navbarPosition = navbar.offsetTop + navbar.offsetHeight;

    window.addEventListener("scroll", function () {
      console.log(window.scrollY, navbarPosition);
      if (window.scrollY > navbarPosition) {
        stickyNavbar.style.display = "flex";
      } else {
        stickyNavbar.style.display = "none";
      }
    });
  });
</script>

<div
  class="pointer-events-none fixed top-6 z-30 grid w-full grid-cols-[1fr,min(640px,100%),1fr] px-4"
>
  <div
    id="sticky-navbar"
    class="pointer-events-auto col-start-2 -mx-px rounded-2xl bg-gray-800/95 px-4 py-2.5 fixed backdrop-blur will-change-transform [@supports(backdrop-filter:blur(0px))]:bg-white/[3%]"
    style="display: none;"
  >
    <NavItem name="Blog" icon="newspaper" href="/blog" />
    <!-- <NavItem name="Projects" icon="code" href="/projects" /> -->
    <NavItem
      name="Twitter"
      icon="twitter"
      href="https://twitter.com/Issaminuu"
    />
    <NavItem name="GitHub" icon="github" href="https://github.com/Issaminu" />
    <NavItem
      name="LinkedIn"
      icon="linkedin"
      href="https://www.linkedin.com/in/issam-boubcher"
    />
  </div>
</div>
